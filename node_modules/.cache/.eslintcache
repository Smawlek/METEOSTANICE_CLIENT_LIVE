[{"C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\index.js":"1","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\App.js":"2","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\reportWebVitals.js":"3","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\layout.js":"4","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\core\\home.js":"5","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\title.js":"6","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\footer.js":"7","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\components\\dashboard.js":"8","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\cookiesInfo.js":"9","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\const.js":"10"},{"size":596,"mtime":1679217600359,"results":"11","hashOfConfig":"12"},{"size":466,"mtime":1680942047611,"results":"13","hashOfConfig":"12"},{"size":375,"mtime":1679217600361,"results":"14","hashOfConfig":"12"},{"size":1727,"mtime":1680942047636,"results":"15","hashOfConfig":"12"},{"size":766,"mtime":1680961132623,"results":"16","hashOfConfig":"12"},{"size":525,"mtime":1680942047640,"results":"17","hashOfConfig":"12"},{"size":2113,"mtime":1680942047632,"results":"18","hashOfConfig":"12"},{"size":9703,"mtime":1681639756691,"results":"19","hashOfConfig":"12"},{"size":1392,"mtime":1680942047628,"results":"20","hashOfConfig":"12"},{"size":210,"mtime":1680945773957,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"f65cwm",{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"25"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"25"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"25"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\index.js",[],[],[],"C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\App.js",[],[],"C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\reportWebVitals.js",[],[],"C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\layout.js",["57"],[],"import '../App.css';\r\n\r\nimport { Outlet } from \"react-router-dom\";\r\nimport { ReactSession } from 'react-client-session';\r\n// Ikony\r\nimport { AiFillHome } from \"react-icons/ai\";\r\n\r\nconst Layout = () => {\r\n    return (\r\n        <>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark static-top\">\r\n                <div className=\"container\" style={{ margin: 0 }}>\r\n                    <a className=\"navbar-brand\" href=\"/\">\r\n                        <span> <b> METEOSTANICE - SKUPINA 9 </b> </span>\r\n                    </a>\r\n                </div>\r\n                <div className=\"container\" style={{ margin: 0 }}>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n                        <ul className=\"navbar-nav ml-auto layout-ul layout-ul\">\r\n                            <li className='nav-item'> <a className='nav-link' href={\"/\"}> <AiFillHome /> Domů </a> </li>\r\n                            {/*\r\n                            <div className='dropdown-divider' style={{ border: '1px solid rgba(79, 82, 80)' }}></div>\r\n                            <li className='nav-item layout-divider'> <a className='nav-link' href={\"/nasi-lektori\"}>  </a> </li>\r\n                            */}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n            <Outlet />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Layout;","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\core\\home.js",[],[],"C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\title.js",["58"],[],"import '../App.css';\r\n\r\nimport { Outlet } from \"react-router-dom\";\r\nimport { Helmet } from 'react-helmet';\r\n\r\n// Helpers\r\nimport CookiesInfo from './cookiesInfo';\r\n\r\nconst Title = (props) => {\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title> {props.title} | METEOSTANICE </title>\r\n                <style>{\"body { background-color: rgba(3, 198, 252, 0.7); }\"}</style>\r\n            </Helmet>\r\n            {/* <CookiesInfo /> */}\r\n            <Outlet />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Title;","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\footer.js",[],[],"C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\components\\dashboard.js",["59","60","61","62","63","64","65","66","67","68","69","70","71","72"],[],"import '../App.css';\r\n\r\nimport moment from 'moment';\r\n// React\r\nimport { useEffect, useState } from 'react';\r\nimport Select from 'react-select';\r\nimport Modal from 'react-bootstrap/Modal';\r\n// Material\r\nimport TextField from '@mui/material/TextField';\r\nimport Tooltip from '@mui/material/Tooltip'\r\nimport { IconButton } from '@mui/material'\r\nimport Button from '@mui/material/Button';\r\n// Ikony\r\nimport { BsFillGearFill } from \"react-icons/bs\";\r\n// Axios\r\nimport Axios from 'axios';\r\nconst source = Axios.CancelToken.source();\r\nconst config = { cancelToken: source.token };\r\n// Konstanty\r\nconst SERVER_BASE_URL = \"http://localhost:4000\";\r\n\r\nconst Dashboard = ({ public_tokens, units }) => {\r\n    let unitsSign = '°C';\r\n    let unitsTransfer = 1;\r\n    let stations = [];\r\n    // Stanice\r\n    let [shownStation, setShownStation] = useState();\r\n    let data = [];\r\n    let [shownData, setShownData] = useState();\r\n    // Filtry\r\n    const [showFilterModal, setShowFilterModal] = useState(false);\r\n    let setFilters = {\r\n        start: moment(Date.now()).subtract(3, 'months').format('YYYY-MM-DD'),\r\n        end: moment(Date.now()).format('YYYY-MM-DD'),\r\n        granularity: 5 // 0 - 1 min, 1 - 5 min, 2 - 10 min, 3 - 30 min, 4 - 1 h, 5 - 1 den\r\n    }\r\n    // UseEffecty\r\n    useEffect(() => {\r\n        setUnitsVariables(units);\r\n        // Získání přístupu ke stanicím\r\n        checkStations();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, [shownStation])\r\n    // Axios Calls\r\n    const _logDevice = async (data) => {\r\n        try {\r\n            return await Axios.get(SERVER_BASE_URL + \"/devices/log-public\", {\r\n                headers: {\r\n                },\r\n                params: {\r\n                    public_token: data.token,\r\n                },\r\n                config\r\n            });\r\n        } catch (error) {\r\n            //throw new Error(error);\r\n        }\r\n    }\r\n\r\n    const _getReportsByDates = async (data) => {\r\n        if (shownStation === undefined) return;\r\n        try {\r\n            return await Axios.get(SERVER_BASE_URL + \"/reports/get-by-dates\", {\r\n                headers: {\r\n                    token: shownStation,\r\n                },\r\n                params: {\r\n                    start: data.start,\r\n                    end: data.end,\r\n                    granularity: Number(data.granularity)\r\n                },\r\n                config\r\n            });\r\n        } catch (error) {\r\n            //throw new Error(error);\r\n        }\r\n    }\r\n    // Funkce\r\n    function setUnitsVariables(unit) {\r\n        if (unit === undefined) return;\r\n\r\n        if (unit.toUpperCase() === 'FAHRENHEIT') {\r\n            unitsSign = '°F';\r\n            unitsTransfer = 33.8;\r\n        }\r\n    }\r\n\r\n    async function checkStations() {\r\n        if (public_tokens === undefined || public_tokens.length <= 0) return;\r\n\r\n        for (let i = 0; i < public_tokens.length; i++) {\r\n            let temp = (await _logDevice({ token: public_tokens[i] })).data[0];\r\n\r\n            if (temp != undefined) {\r\n                stations.push(temp.token);\r\n\r\n                if (i === 0) setShownStation(temp.token);\r\n            }\r\n        }\r\n    }\r\n\r\n    function changeFilters(data, dateChanged) {\r\n        setFilters = data;\r\n\r\n        if (dateChanged) {\r\n            getData();\r\n            return;\r\n        }\r\n\r\n        filterData();\r\n    }\r\n\r\n    async function getData() {\r\n        // Ověření\r\n        chechGranularity();\r\n        // Získání dat\r\n        data = await _getReportsByDates(setFilters);\r\n        console.log(data)\r\n        // Vyfiltrování\r\n        filterData();\r\n    }\r\n\r\n    function chechGranularity() {\r\n        const timeDiff = moment.duration(moment(setFilters.end).diff(setFilters.start)).asDays();\r\n\r\n        if (timeDiff <= 1 && setFilters.granularity != 0) {\r\n            setFilters.granularity = 0;\r\n        }\r\n\r\n        if (timeDiff > 1 && timeDiff <= 3 && setFilters.granularity != 1) {\r\n            setFilters.granularity = 1;\r\n        }\r\n\r\n        if (timeDiff > 3 && timeDiff <= 7 && setFilters.granularity != 2) {\r\n            setFilters.granularity = 2;\r\n        }\r\n\r\n        if (timeDiff > 7 && timeDiff <= 14 && setFilters.granularity != 3) {\r\n            setFilters.granularity = 3;\r\n        }\r\n\r\n        if (timeDiff > 14 && timeDiff <= 30 && setFilters.granularity != 4) {\r\n            setFilters.granularity = 4;\r\n        }\r\n\r\n        if (timeDiff > 30 && timeDiff <= 90 && setFilters.granularity != 5) {\r\n            setFilters.granularity = 5;\r\n        }\r\n\r\n        if (timeDiff > 90) {\r\n            setFilters.granularity = 5;\r\n            setFilters.start = moment(setFilters.end).subtract(90, 'days').format('YYYY-MM-DD');\r\n        }\r\n    }\r\n\r\n    function filterData() {\r\n        //\r\n        if (setFilters.granularity === 0) {\r\n            //\r\n        }\r\n    }\r\n\r\n    function downsample() {\r\n        //\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='dashboard-container'>\r\n                {/* Horní bar */}\r\n                <div className='row dashboard-header mx-auto'>\r\n                    <div className='col-sm-12 col-md-12 col-lg-11'>\r\n                        <h3> <b> Měření teploty </b> </h3>\r\n                    </div>\r\n                    <div className='dashboard-header-controls col-sm-12 col-md-12 col-lg-1'>\r\n                        <Tooltip title={\"Nastavit filtry\"} placement='left'>\r\n                            <IconButton onClick={() => { setShowFilterModal(!showFilterModal) }}>\r\n                                <BsFillGearFill />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </div>\r\n                </div>\r\n                {/* Tělo */}\r\n                <div className='row dashboard-body'>\r\n                    <p> Aktuální teplota: </p>\r\n                    <p> Aktuální vlhkost: </p>\r\n                </div>\r\n            </div>\r\n\r\n            <Filter show={showFilterModal} data={setFilters} handleClose={() => { setShowFilterModal(false) }} change={changeFilters} />\r\n        </>\r\n    )\r\n};\r\n\r\n\r\nconst Filter = ({ show, data, handleClose, change }) => {\r\n    const [start, setStart] = useState(data.start);\r\n    const [end, setEnd] = useState(data.end);\r\n    const [granularity, setGranularity] = useState(data.granularity);\r\n    const [dateChanged, setDateChanged] = useState(false)\r\n    // Možnosti v Selectech\r\n    const granularityOptions = [{ value: 0, label: \"1 minuta\" }, { value: 1, label: \"5 minut\" }, { value: 2, label: \"10 minut\" }, { value: 3, label: \"30 minut\" }, { value: 4, label: \"1 hodina\" }, { value: 5, label: \"1 den\" }]\r\n    // UseEffecty\r\n    useEffect(() => {\r\n        setDateChanged(false)\r\n    }, [show])\r\n    //\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            size=\"lg\"\r\n            onHide={handleClose}\r\n            backdrop=\"static\"\r\n            keyboard={false}\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title> Nastavení filtrů  </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className='row'>\r\n                    <div className='col-sm-12 col-md-6 col-lg-6'>\r\n                        <TextField\r\n                            id=\"date\"\r\n                            label=\"Od kdy\"\r\n                            type=\"date\"\r\n                            defaultValue={data.start}\r\n                            onChange={(e) => { setStart(e.target.value); setDateChanged(true); }}\r\n                            sx={{ width: 220 }}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div className='col-sm-12 col-md-6 col-lg-6'>\r\n                        <TextField\r\n                            id=\"date\"\r\n                            label=\"Do kdy\"\r\n                            type=\"date\"\r\n                            defaultValue={data.end}\r\n                            onChange={(e) => { setEnd(e.target.value); setDateChanged(true); }}\r\n                            sx={{ width: 220 }}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className='new-line'></div>\r\n                <div className='row'>\r\n                    <div className='col-sm-12 col-md-12 col-lg-6'>\r\n                        <div className='col'>\r\n                            <label> Granularita: </label>\r\n                            <Select\r\n                                aria-labelledby=\"aria-label\"\r\n                                inputId=\"aria-example-input\"\r\n                                name=\"aria-live-color\"\r\n                                placeholder=\"Vyberte granularitu..*\"\r\n                                defaultValue={granularityOptions[data.granularity]}\r\n                                onChange={(selected) => { setGranularity(selected.value); }}\r\n                                options={granularityOptions} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='new-line'></div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    onClick={() => { change({ start: start, end: end, granularity: granularity }, dateChanged); handleClose(); }}\r\n                >\r\n                    Nastavit filtry\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default Dashboard;","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\cookiesInfo.js",["73"],[],"import '../App.css';\r\n\r\nimport { useState } from \"react\";\r\nimport { ReactSession } from 'react-client-session';\r\n\r\nconst CookiesInfo = () => {\r\n    ReactSession.setStoreType(\"localStorage\");\r\n\r\n    const cookies = ReactSession.get(\"cookies\");\r\n\r\n    const [render, setRender] = useState(!cookies);\r\n\r\n    function setCookies() {\r\n        ReactSession.set(\"cookies\", true);\r\n        setRender(false)\r\n    }\r\n\r\n    if (render) {\r\n        return (\r\n            <div className=\"cookie-consent-banner\">\r\n                <div className=\"cookie-consent-banner__inner\">\r\n                    <div className=\"cookie-consent-banner__copy\">\r\n                        <div className=\"cookie-consent-banner__header\"> TAHLE STRÁNKA POUŽÍVÁ SOUBORY COOKIE </div>\r\n                        <div className=\"cookie-consent-banner__description\">\r\n                            Při poskytování služeb nám pomáhají soubory cookie. Používáním webu vyjadřujete souhlas.\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"cookie-consent-banner__actions\">\r\n                        <a href=\"#\" onClick={() => {setCookies()}} className=\"cookie-consent-banner__cta\">\r\n                            Rozumím!\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default CookiesInfo;","C:\\Users\\ondra\\Desktop\\UU_METEOSTANICE_SKUPINA9\\client\\src\\helpers\\const.js",[],[],{"ruleId":"74","severity":1,"message":"75","line":4,"column":10,"nodeType":"76","messageId":"77","endLine":4,"endColumn":22},{"ruleId":"74","severity":1,"message":"78","line":7,"column":8,"nodeType":"76","messageId":"77","endLine":7,"endColumn":19},{"ruleId":"74","severity":1,"message":"79","line":23,"column":9,"nodeType":"76","messageId":"77","endLine":23,"endColumn":18},{"ruleId":"74","severity":1,"message":"80","line":24,"column":9,"nodeType":"76","messageId":"77","endLine":24,"endColumn":22},{"ruleId":"74","severity":1,"message":"81","line":29,"column":10,"nodeType":"76","messageId":"77","endLine":29,"endColumn":19},{"ruleId":"74","severity":1,"message":"82","line":29,"column":21,"nodeType":"76","messageId":"77","endLine":29,"endColumn":33},{"ruleId":"83","severity":1,"message":"84","line":42,"column":8,"nodeType":"85","endLine":42,"endColumn":10,"suggestions":"86"},{"ruleId":"83","severity":1,"message":"87","line":46,"column":8,"nodeType":"85","endLine":46,"endColumn":22,"suggestions":"88"},{"ruleId":"89","severity":1,"message":"90","line":97,"column":22,"nodeType":"91","messageId":"92","endLine":97,"endColumn":24},{"ruleId":"89","severity":1,"message":"90","line":129,"column":53,"nodeType":"91","messageId":"92","endLine":129,"endColumn":55},{"ruleId":"89","severity":1,"message":"90","line":133,"column":69,"nodeType":"91","messageId":"92","endLine":133,"endColumn":71},{"ruleId":"89","severity":1,"message":"90","line":137,"column":69,"nodeType":"91","messageId":"92","endLine":137,"endColumn":71},{"ruleId":"89","severity":1,"message":"90","line":141,"column":70,"nodeType":"91","messageId":"92","endLine":141,"endColumn":72},{"ruleId":"89","severity":1,"message":"90","line":145,"column":71,"nodeType":"91","messageId":"92","endLine":145,"endColumn":73},{"ruleId":"89","severity":1,"message":"90","line":149,"column":71,"nodeType":"91","messageId":"92","endLine":149,"endColumn":73},{"ruleId":"74","severity":1,"message":"93","line":166,"column":14,"nodeType":"76","messageId":"77","endLine":166,"endColumn":24},{"ruleId":"94","severity":1,"message":"95","line":30,"column":25,"nodeType":"96","endLine":30,"endColumn":107},"no-unused-vars","'ReactSession' is defined but never used.","Identifier","unusedVar","'CookiesInfo' is defined but never used.","'unitsSign' is assigned a value but never used.","'unitsTransfer' is assigned a value but never used.","'shownData' is assigned a value but never used.","'setShownData' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkStations', 'setUnitsVariables', and 'units'. Either include them or remove the dependency array.","ArrayExpression",["97"],"React Hook useEffect has a missing dependency: 'getData'. Either include it or remove the dependency array.",["98"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'downsample' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","JSXOpeningElement",{"desc":"99","fix":"100"},{"desc":"101","fix":"102"},"Update the dependencies array to be: [checkStations, setUnitsVariables, units]",{"range":"103","text":"104"},"Update the dependencies array to be: [getData, shownStation]",{"range":"105","text":"106"},[1402,1404],"[checkStations, setUnitsVariables, units]",[1459,1473],"[getData, shownStation]"]